

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="./contact.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
</head>

<body>
    <header>
      <div class="navbar">
        <div class="logo"><img src="./logo.jpg" alt="">
        </div>
        <ul class="links">
          <li><a href="./home.html">Home</a></li>
          <li><a href="./About.html">About</a></li>
          <li><a href="./contactform.html">Contact</a></li>
          <li><a href="./portfolio.html">portfolio</a></li>
          <li><a href="./#">blogs</a></li>
          <li><a href="./signin.html">sign in</a></li>
        </ul>
        <div class="toggle_btn">
            <i class="fa fa-bars"></i>
          </div>
        </div>
        <div class="dropdown_menu">
            <li><a href="./home.html">Home</a></li>
            <li><a href="./About.html">About</a></li>
            <li><a href="./contactform.html">Contact</a></li>
            <li><a href="./portfolio.html">portfolio</a></li>
            <li><a href="./#">blogs</a></li>
            <li><a href="./signin.html">sign in</a></li>
      
          </div>
    </header>
  <main>
    <h1>Research <span> and Publication</span></h1>
    <section class="sectionFive" id="blog"></section>
    <div class="blogSectionmain">
        
    </main>
    <hr>
   <footer>
          <div class="social-links">
            <p> @2024 All right reserved. Developed By Cedro Group</p><br>
            <p>Chat with Us</p>
             <p>
             Tel: (+250)782446577 
              </p>
            </div>
          <div class="copyright">
            <p>
              Kigali, Rwanda &copy; 2024 All rights reserved. <br>
              Web Development |UI/UX Design | Virtual assistance 
            </p>
          </div>
          <div class="subscribe">
              <p>Subscribe to our Articles To Get More..</p>
              <input type="email" placeholder="Enter your email">
              <button>Subscribe</button>
          </div>
          
        </footer>
        <script>
          document.addEventListener("DOMContentLoaded", function () {
          async function fetchBlogs() {
    try {
      const response = await fetch("http://localhost:5000/api/v1/getall-blog", {
        method: "GET"
      });

      if (!response.ok) {
        throw new Error("Failed to fetch blogs");
      }
      const data = await response.json();
      console.log("Got blog data", data?.data);
      renderBlogs(data);
    } catch (error) {
      console.error("Error fetching blogs:", error);
    }}
    fetchBlogs();
});
 function renderBlogs(blogs) {
  const blogSectionMain = document.querySelector(".blogSectionmain");
  blogs?.data?.reverse().forEach(blog => {
    const blogDiv = document.createElement("div");
    blogDiv.classList.add("blogSection");
   // blogDiv.dataset.blogId = index; // Set a data attribute to store the blog id

    blogDiv.innerHTML = `
      <div class="blogpartOne">
        <div class="h1">
        <h1>Blog title:  <u> <span class="businessspanone">${blog.blogTitle}</span></u></h1>
     </div>
        <img src="${blog.blogImage}" alt="">
      </div>
      <div class="blogpartTwo">
        <p class="waitUntill">
          <p class="until">${blog.blogDescription}</p>
        </p>
        <p class="blogP">
          <span class="businessspantwo">${blog.blogDate}</span>
        </p>
       
      </div>
      
      `;

    blogSectionMain.appendChild(blogDiv);
  });
}

            const toggleBtn = document.querySelector('.toggle_btn')
            const toggleBtnIcon = document.querySelector('.toggle_btn i')
            const dropDownMenu = document.querySelector('.dropdown_menu')
        
            toggleBtn.onclick = function () {
              dropDownMenu.classList.toggle('open')
              const isOpen = dropDownMenu.classList.contains('open')
        
              toggleBtnIcon.classList = isOpen
                ? 'fa-solid fa-xmark'
                : 'fa-solid fa-bars'
            } 
          </script>
</body>
</html>